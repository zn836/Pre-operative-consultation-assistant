# 术前谈话助手 - 用户使用指南 📖

欢迎使用术前谈话助手!本指南将帮助您快速上手,充分利用系统功能。

## 目录
- [快速开始](#快速开始)
- [界面导览](#界面导览)
- [功能详解](#功能详解)
- [使用技巧](#使用技巧)
- [常见问题](#常见问题)
- [问题示例](#问题示例)

---

## 快速开始

### 第一次使用

#### 步骤1: 启动应用
打开命令行,进入项目文件夹,运行:
```bash
streamlit run app.py
```

#### 步骤2: 打开浏览器
系统会自动打开浏览器,访问 `http://localhost:8501`

#### 步骤3: 开始提问
在问题输入框中输入您的问题,点击"🔍 提问"按钮即可!

### 3分钟快速体验

```
1. 启动应用 → 看到视频播放界面
2. 查看底部推荐问题 → 点击任意一个感兴趣的问题
3. 系统返回答案 → 点击"📍播放"跳转到视频相关位置
4. 点击"👨‍⚕️ 获取专家详细解答" → 查看更详细的专业指导
```

---

## 界面导览

### 主界面布局

```
┌─────────────────────────────────────────┐
│          术前谈话助手 🏥                  │
├─────────────────────────────────────────┤
│                                         │
│         [视频播放区域]                   │
│                                         │
├─────────────────────────────────────────┤
│  请输入您的问题                          │
│  [______________________________]       │
│  [🔍 提问] [📍播放] [👨‍⚕️ 专家解答]      │
├─────────────────────────────────────────┤
│  💡 猜你可能想问                         │
│  [问题1] [问题2] [问题3] ...            │
└─────────────────────────────────────────┘
```

### 各区域说明

#### 1️⃣ 视频播放区
- **功能**: 自动播放术前谈话视频
- **特点**: 支持快进、暂停、全屏
- **提示**: 点击"播放"按钮会自动跳转到相关时间点

#### 2️⃣ 问题输入区
- **位置**: 视频下方
- **功能**: 输入您想了解的问题
- **提示**: 问题越具体,答案越精准

#### 3️⃣ 操作按钮区
- **🔍 提问**: 提交问题,获取答案
- **📍播放**: 跳转到视频相关时间点(找到答案后显示)
- **👨‍⚕️ 获取专家详细解答**: 获取更详细的专业指导(找到答案后显示)

#### 4️⃣ 回答显示区
- **内容概要**: 第一阶段快速定位的内容描述
- **专家解答**: 第二阶段详细的专业指导(点击按钮后显示)

#### 5️⃣ 推荐问题区
- **位置**: 页面底部
- **功能**: 显示3-5个推荐问题
- **使用**: 点击任意问题即可快速提问

---

## 功能详解

### 🎯 智能问答功能

#### 工作流程
```
输入问题 → 系统分析字幕 → 定位时间点 → 显示内容概要
                                        ↓
                              (可选)获取专家详细解答
```

#### 使用方法
1. **输入问题**: 在输入框中输入您的问题
2. **点击提问**: 点击"🔍 提问"按钮
3. **查看结果**: 系统会显示:
   - ✅ 相关时间点
   - ✅ 内容概要
   - ✅ "播放"和"专家解答"按钮

#### 回答类型

**情况A: 找到相关内容**
```
✅ 系统会显示:
   - 时间点位置(如: 00:02:15)
   - 内容概要
   - "📍播放"按钮
   - "👨‍⚕️ 获取专家详细解答"按钮
```

**情况B: 未找到直接相关内容**
```
💡 提示: "视频中未找到与该问题直接相关的具体时间点,
         请重新询问或者找医生咨询详细问题!"
```

### 📍 视频跳转功能

#### 功能说明
找到相关答案后,点击"📍播放"按钮,视频会自动跳转到相关时间点。

#### 使用技巧
- 系统会自动提前5秒开始播放,确保您能看到完整上下文
- 可以随时暂停或重新播放
- 建议配合字幕观看,理解更透彻

#### 操作步骤
```
1. 提出问题 → 2. 系统找到时间点 → 3. 点击"📍播放"
                                    ↓
                         4. 视频自动跳转并播放
```

### 👨‍⚕️ 专家详细解答

#### 什么时候使用?
- ✅ 需要更详细的解释说明
- ✅ 想了解具体操作步骤
- ✅ 需要专业的医学指导
- ✅ 想知道"为什么"和"怎么做"

#### 解答特点
- **字数精简**: 约300字,简洁明了
- **通俗易懂**: 避免生僻医学术语
- **结构清晰**: 2-3个要点,条理分明
- **富有同理心**: 理解患者担忧,给予心理支持
- **实用可操作**: 具体建议,而非空泛理论

#### 使用方法
```
1. 先提问 → 2. 查看内容概要 → 3. 点击"👨‍⚕️ 获取专家详细解答"
                                              ↓
                                    4. 查看详细专业指导
```

#### 示例对比

**内容概要**(第一阶段):
> 时间点 00:02:15 附近提到了术前用药调整的相关内容,主要讲解了抗凝药物的停用时机。

**专家详细解答**(第二阶段):
> 术前抗凝药物的调整非常重要,直接关系到手术安全。根据视频内容,有以下几点需要注意:
>
> 1. **停药时机**: 手术前5-7天需要停用华法林等抗凝药物,因为这类药物会影响血液凝固功能,增加术中出血风险。
>
> 2. **过渡方案**: 停用口服抗凝药后,可能需要改用短效的低分子肝素,便于手术前精确控制。您的主治医生会根据您的具体情况制定方案。
>
> 3. **个体化调整**: 如果您正在服用抗凝药物,一定要提前告知医生,不要自行停药或调整剂量,避免出现意外情况。

### 💡 推荐问题功能

#### 功能说明
系统会自动分析视频内容,生成3-5个推荐问题,帮助您快速了解视频主要内容。

#### 推荐问题类型
- 🔹 术前准备事项
- 🔹 检查项目说明
- 🔹 用药调整指导
- 🔹 风险注意事项
- 🔹 术后恢复相关

#### 使用方法
1. 查看页面底部的"💡 猜你可能想问"区域
2. 点击任意感兴趣的问题
3. 系统自动填充问题并开始分析

#### 使用建议
- ✅ 初次使用时,建议先浏览推荐问题,了解视频整体内容
- ✅ 推荐问题是基于视频内容生成的,答案准确性更高
- ✅ 可以基于推荐问题进一步延伸提问

---

## 使用技巧

### 💎 提问技巧

#### 1. 问题要具体明确

**❌ 不好的问题**:
- "手术怎么样?"
- "有什么要注意的?"
- "药怎么办?"

**✅ 好的问题**:
- "手术有哪些风险?"
- "术前需要做哪些准备?"
- "抗凝药物需要停用吗?"

#### 2. 一次提一个问题

**❌ 不推荐**:
> "术前需要做什么检查?药物要调整吗?手术风险大吗?术后多久能恢复?"

**✅ 推荐**:
> 先问: "术前需要做什么检查?"
> 再问: "术前药物需要调整吗?"
> 然后: "手术有哪些风险?"

#### 3. 使用医学术语更精准

**示例对比**:
- "血液稀释的药" → "抗凝药物"
- "心脏的管子" → "冠状动脉"
- "放个东西" → "支架植入"

#### 4. 问题类型建议

**✅ 推荐的问题类型**:
- 事实性问题: "术前需要空腹吗?"
- 操作性问题: "如何调整降压药?"
- 时间性问题: "术前多久停药?"
- 风险性问题: "手术有哪些并发症?"

**⚠️ 避免的问题类型**:
- 诊断性问题: "我这个病严重吗?"(应咨询医生)
- 决策性问题: "我应该做手术吗?"(应咨询医生)
- 个性化剂量: "我应该吃多少毫克?"(应咨询医生)

### 🎯 高效使用策略

#### 策略1: 从总体到细节
```
第1步: 总体了解 → "术前需要做哪些准备?"
第2步: 深入细节 → "术前需要做哪些检查?"
第3步: 具体操作 → "心电图检查需要注意什么?"
```

#### 策略2: 结合视频观看
```
1. 先完整观看一遍视频
2. 记录不理解的地方
3. 针对性地提问
4. 通过跳转功能反复观看重点内容
```

#### 策略3: 利用推荐问题
```
1. 查看推荐问题,了解视频框架
2. 点击最关心的推荐问题
3. 基于回答进一步提问
```

### 📝 记录和整理建议

建议在使用过程中做好笔记:

```
我的术前准备清单
─────────────────
□ 检查项目:
  - 心电图(时间点: 00:05:30)
  - 血液检查(时间点: 00:06:15)

□ 用药调整:
  - 抗凝药提前7天停用(时间点: 00:10:20)
  - 降压药继续服用(时间点: 00:11:05)

□ 注意事项:
  - 术前8小时禁食(时间点: 00:15:40)
  - 保持充足睡眠(时间点: 00:16:20)
```

---

## 常见问题

### ❓ 使用相关

#### Q1: 找不到相关答案怎么办?

**原因**:
- 视频中可能没有涉及该内容
- 问题表述与视频用词不一致

**解决方法**:
1. 尝试换一种方式提问
2. 使用更通俗或更专业的术语
3. 查看推荐问题,了解视频主要内容
4. 对于视频未涉及的内容,建议咨询医生

#### Q2: 系统响应很慢?

**正常情况**:
- 提问后需要2-10秒处理时间
- 专家解答需要5-15秒生成时间

**如果超过30秒**:
- 检查网络连接
- 刷新页面重试
- 查看是否有错误提示

#### Q3: 视频无法跳转?

**排查步骤**:
1. 确认是否点击了"📍播放"按钮
2. 检查浏览器是否支持(建议使用Chrome)
3. 尝试刷新页面重新提问
4. 检查视频文件是否正常

#### Q4: 专家解答按钮不显示?

**原因**:
- 只有找到相关时间点后才会显示
- 如果视频中没有相关内容,不会显示该按钮

**解决**:
- 确认第一步是否找到了时间点
- 尝试重新表述问题

#### Q5: 推荐问题为什么不更新?

**说明**:
- 推荐问题在视频加载时生成一次
- 基于视频整体内容,不会随问答变化

**如果需要重新生成**:
- 刷新页面即可

### ⚠️ 注意事项

#### 关于答案准确性

**系统能做什么**:
- ✅ 快速定位视频中的相关内容
- ✅ 提供基于视频内容的解释
- ✅ 用通俗语言解读医学概念

**系统不能做什么**:
- ❌ 替代医生的专业诊断
- ❌ 提供个性化治疗方案
- ❌ 回答视频未涉及的内容

#### 重要提醒

⚠️ **医疗决策必须咨询医生**:
- 用药调整(剂量、时间)
- 是否需要手术
- 个性化风险评估
- 术后并发症处理

⚠️ **紧急情况立即就医**:
- 胸痛、胸闷
- 呼吸困难
- 严重出血
- 其他急性症状

---

## 问题示例

### 📋 术前准备类

#### 检查相关
```
✅ "术前需要做哪些检查?"
✅ "心电图检查需要注意什么?"
✅ "血液检查包括哪些项目?"
✅ "影像学检查有哪些?"
✅ "检查结果多久有效?"
```

#### 饮食相关
```
✅ "术前饮食有什么要求?"
✅ "术前需要空腹吗?"
✅ "术前可以喝水吗?"
✅ "术前多久开始禁食?"
✅ "糖尿病患者术前饮食怎么安排?"
```

#### 生活调整
```
✅ "术前需要调整作息吗?"
✅ "术前可以运动吗?"
✅ "术前需要戒烟吗?"
✅ "术前心理准备有哪些?"
```

### 💊 用药调整类

```
✅ "术前需要停用哪些药物?"
✅ "抗凝药物如何调整?"
✅ "降压药需要停用吗?"
✅ "降糖药怎么调整?"
✅ "阿司匹林术前继续吃吗?"
✅ "术前多久停用抗凝药?"
✅ "中药需要停用吗?"
```

### ⚕️ 手术风险类

```
✅ "手术有哪些风险?"
✅ "术中可能出现什么情况?"
✅ "如何降低手术风险?"
✅ "手术成功率有多高?"
✅ "哪些因素会增加手术风险?"
✅ "术后可能出现哪些并发症?"
```

### 🏥 术后恢复类

```
✅ "术后需要注意什么?"
✅ "术后多久能下床活动?"
✅ "术后饮食有什么要求?"
✅ "术后多久能恢复正常生活?"
✅ "术后需要复查吗?"
✅ "术后用药怎么调整?"
✅ "伤口如何护理?"
```

### 🔬 手术过程类

```
✅ "手术大概需要多长时间?"
✅ "手术是怎么做的?"
✅ "需要全身麻醉吗?"
✅ "手术后多久能醒来?"
✅ "术中会疼吗?"
```

### 📞 其他常见问题

```
✅ "需要准备什么物品?"
✅ "家属需要做什么?"
✅ "住院需要多久?"
✅ "费用大概多少?"
✅ "医保能报销吗?"
```

---

## 使用场景示例

### 场景1: 初次了解术前准备

**步骤**:
1. 启动应用,观看完整视频
2. 查看底部推荐问题
3. 点击"术前需要做哪些准备?"
4. 阅读回答,点击"播放"观看相关视频片段
5. 点击"获取专家详细解答"了解详细内容

### 场景2: 针对性了解用药调整

**步骤**:
1. 提问: "抗凝药物需要停用吗?"
2. 查看系统定位的时间点和内容概要
3. 点击"播放"观看医生的详细讲解
4. 点击"获取专家详细解答"了解具体操作
5. 如有疑问,进一步提问: "术前多久停用抗凝药?"

### 场景3: 术前全面准备

**建议流程**:
```
第1天: 完整观看视频,了解整体流程
第2天: 针对检查项目提问,做好检查安排
第3天: 了解用药调整,咨询医生制定方案
第4天: 了解饮食和生活调整要求
第5天: 了解手术风险和注意事项
术前: 再次复习重点内容,做最后准备
```

---

## 温馨提示

### 📱 最佳使用体验

- **浏览器**: Chrome、Edge (推荐)
- **网络**: 稳定的网络连接
- **屏幕**: 建议使用电脑或平板,屏幕较大
- **音量**: 视频观看时建议打开音量

### 🎓 学习建议

1. **不要急于求成**: 术前准备涉及很多方面,慢慢了解
2. **做好记录**: 重要内容记录下来,便于复习
3. **多次观看**: 重要内容可以反复观看视频
4. **咨询医生**: 遇到不确定的问题,务必咨询医生

### 💚 心理准备

- 充分了解术前准备有助于减少焦虑
- 有问题及时提问,不要憋在心里
- 相信医生的专业判断
- 保持积极乐观的心态

---

## 获取帮助

### 技术问题
如遇到系统使用问题,可以:
1. 查看本使用指南
2. 查看项目 README.md 文件
3. 检查网络和浏览器设置

### 医疗问题
如有医疗相关疑问:
1. 咨询主治医生
2. 联系医院护士站
3. 拨打医院咨询电话

---

**祝您手术顺利,早日康复!** 💪

---

*最后更新: 2024*
*版本: 1.0.0*
